@model System.Web.Mvc.HandleErrorInfo

@{
    Layout = "";
    ViewBag.Title = "500 Error Page";
}
<!DOCTYPE html>
<!--[if IE 8]> <html lang="@System.Globalization.CultureInfo.CurrentUICulture.Name" class="ie8"> <![endif]-->
<!--[if !IE]><!-->
<html lang="@System.Globalization.CultureInfo.CurrentUICulture.Name">
<!--<![endif]-->
<head>
    <meta charset="utf-8" />
    <title>@Common.WebSiteName | 500 內部錯誤</title>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport" />
    <meta content="" name="description" />
    <meta content="" name="author" />

    <!-- ================== BEGIN BASE CSS STYLE ================== -->
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
    <link href="~/assets/plugins/jquery-ui/themes/base/minified/jquery-ui.min.css" rel="stylesheet" />
    <link href="~/assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/assets/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
    <link href="~/assets/css/animate.min.css" rel="stylesheet" />
    <link href="~/assets/css/style.min.css" rel="stylesheet" />
    <link href="~/assets/css/style-responsive.min.css" rel="stylesheet" />
    <link href="~/assets/css/theme/default.css" rel="stylesheet" id="theme" />
    <!-- ================== END BASE CSS STYLE ================== -->
    <!-- ================== BEGIN BASE JS ================== -->
    <script src="~/assets/plugins/pace/pace.min.js"></script>
    <!-- ================== END BASE JS ================== -->
</head>
<body class="pace-top">
    <!-- begin #page-loader -->
    <div id="page-loader" class="fade in"><span class="spinner"></span></div>
    <!-- end #page-loader -->
    <!-- begin #page-container -->
    <div id="page-container" class="fade">
        <!-- begin error -->
        <div class="error">
            <div class="error-code m-b-10">500 <i class="fa fa-warning"></i></div>
            <div class="error-content">
                @if (User.IsInRole("Admins"))
                {
                    <div class="error-message">@Model.Exception.Message</div>
                    <div class="error-desc m-b-20">
                        發生錯誤的控制器: @Model.ControllerName<br />
                        發生錯誤的動作  : @Model.ActionName<br/>
                        @Html.Encode(Model.Exception.StackTrace)
                    </div>
                }
                else
                {
                    <div class="error-message">處理您的要求時發生錯誤。</div>
                    <div class="error-desc m-b-20">
                        當您看到這個網頁表示處理過程中發生預期之外的系統錯誤。<br />
                        請連絡相關人員處理。
                    </div>
                }


                <div>
                    <a href="/" class="btn btn-success">返回首頁</a>
                </div>
            </div>
        </div>
        <!-- end error -->
        <!-- begin scroll to top btn -->
        <a href="javascript:;" class="btn btn-icon btn-circle btn-success btn-scroll-to-top fade" data-click="scroll-top"><i class="fa fa-angle-up"></i></a>
        <!-- end scroll to top btn -->
    </div>
    <!-- end page container -->
    <!-- ================== BEGIN BASE JS ================== -->
    <script src="~/assets/plugins/jquery/jquery-1.9.1.min.js"></script>
    <script src="~/assets/plugins/jquery/jquery-migrate-1.1.0.min.js"></script>
    <script src="~/assets/plugins/jquery-ui/ui/minified/jquery-ui.min.js"></script>
    <script src="~/assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <!--[if lt IE 9]>
        <script src="~/assets/crossbrowserjs/html5shiv.js"></script>
        <script src="~/assets/crossbrowserjs/respond.min.js"></script>
        <script src="~/assets/crossbrowserjs/excanvas.min.js"></script>
    <![endif]-->
    <script src="~/assets/plugins/slimscroll/jquery.slimscroll.min.js"></script>
    <script src="~/assets/plugins/jquery-cookie/jquery.cookie.js"></script>
    <!-- ================== END BASE JS ================== -->
    <!-- ================== BEGIN PAGE LEVEL JS ================== -->
    <script src="~/assets/js/apps.min.js"></script>
    <!-- ================== END PAGE LEVEL JS ================== -->

    <script>
        $(document).ready(function () {
            App.init();
        });
    </script>
</body>
</html>
@*<h1 class="text-danger">錯誤。</h1>
<h2 class="text-danger"></h2>
@if (User.Identity != null && User.Identity.IsAuthenticated && Request.IsLocal)
{

    if (User.IsInRole("Admins"))
    {
        <dl class="dl-horizontal">
            @if (Model != null)
            {
                <dt>控制器名稱</dt>
                <dd>@Model.ControllerName</dd>
                <dt>動作名稱</dt>
                <dd>@Model.ActionName</dd>
                <dt>錯誤訊息</dt>
                if (Model.Exception != null)
                {
                    <dd>@Model.Exception.Message</dd>
                }
            }
        </dl>
        if (Model != null)
        {
<pre>
    @Model.Exception.StackTrace
</pre>
        }

    }
}*@


