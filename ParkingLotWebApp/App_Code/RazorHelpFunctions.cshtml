@functions{
    public static string GetAntiForgeryToken()
    {
        string cookieToken, formToken;
        AntiForgery.GetTokens(null, out cookieToken, out formToken);
        return string.Concat(cookieToken, ":", formToken);
    }
    public static string GetUserName(int id)
    {
        var db = My.Core.Infrastructures.Implementations.Models.OpenWebSiteEntities.Create();
        var userrepo = My.Core.Infrastructures.Implementations.Models.RepositoryHelper.GetApplicationUserRepository();

        var usr = userrepo.Get(id);

        if (usr != null)
        {

            return usr.UserName;
        }

        return "";
    }

    public static string GetRoleName(int RoleId)
    {
        var db = My.Core.Infrastructures.Implementations.Models.OpenWebSiteEntities.Create();
        var rolerepo = My.Core.Infrastructures.Implementations.Models.RepositoryHelper.GetApplicationRoleRepository();

        if (RoleId > 0)
        {
            return rolerepo.Get(RoleId).Name;
        }

        return "";
    }


}

